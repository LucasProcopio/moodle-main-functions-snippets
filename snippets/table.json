{
  "Moodle table sql": {
    "prefix": ["mdl_table", "mtsql"],
    "body": [
      "/**",
      "* Table class documentation",
      "*/",
      "class pluginname_table extends table_sql {\n",
      "\t/**",
      "\t* Constructor",
      "\t*@param int \\$uniqueid all tables have to have a unique id",
      "\t*/",
      "\tfunction __construct(\\$uniqueid) {",
      "\t\tparent::__construct(\\$uniqueid);",
      "\t\t// Define the list of columns to show.",
      "\t\t\\$columns = array('username', 'password', 'firstname', 'lastname');",
      "\t\t\\$this->define_columns(\\$columns);\n",
      "\t\t// Define the titles of columns to show in header.",
      "\t\t\\$headers = array('Username', 'Password', 'First name', 'Last name');",
      "\t\t\\$this->define_headers(\\$headers);\n",
      "\t}",
      "\n",
      "\t/**",
      "\t*This function is called for each data row to allow processing of the username value.",
      "\t* @param object \\$values Contains object with all the values of record.",
      "\t* @return $string personalized string value for username column",
      "\t*/",
      "\tfunction col_username(\\$values) {",
      "\t\t// If the data is being downloaded than we don't want to show HTML.",
      "\t\tif (\\$this->is_downloading()) {",
      "\t\t\treturn $values->username;",
      "\t\t} else {",
      "\t\t\t return '<a href=\"/user/profile.php?id='.\\$values->id.'\">'.\\$values->username.'</a>';",
      "\t\t}",
      "\t}",
      "\n",
      "\t/**",
      "\t*This function is called for each data row to allow processing of columns which do not have a *_cols function.",
      "\t* @return string return processed value. Return NULL if no change has been made",
      "\t*/",
      "\tfunction other_cols(\\$colname, \\$value) {",
      "\t\t// For security reasons we don't want to show the password hash.",
      "\t\tif ($colname == 'password') {",
      "\t\t\treturn \"****\";",
      "\t\t}",
      "\t}",
      "}"
    ],
    "description": "Complete moodle table sql skeleton"
  }
}
